(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69],{1334:(e,t,a)=>{Promise.resolve().then(a.bind(a,1694))},3430:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(5155),r=a(3312);function n(){return(0,s.jsx)("section",{className:"py-[250px]",children:(0,s.jsxs)("div",{className:"conteiner flex items-center justify-center flex-col",children:[(0,s.jsx)("h3",{className:"heading-3",children:"Ваша корзина пустая"}),(0,s.jsx)("p",{className:"text-body mt-5",children:"Добавьте товары и оформите заказ"}),(0,s.jsx)(r.$,{asChild:!0,className:"mt-5",size:"lg",children:(0,s.jsx)("a",{href:"/category",className:"text-body-sm font-normal",children:"Перейти в каталог товаров"})})]})})}},7105:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var s=a(5155),r=a(3312),n=a(3582),i=a(5732),d=a(4596),l=a(6813);let c=e=>{let{className:t,isCartPage:a=!0}=e,{cartRecords:c}=(0,n.A)(),{cartList:o}=(0,i.A)(),{deliveryType:m}=(0,d.A)(),u=l.A.getTotalQuantity(o),p=l.A.getTotalPrice(c),x=p+m.price;return(0,s.jsxs)("div",{className:"space-y-4 flex flex-col md:p-6 p-4 border-2 border-solid rounded-[5px] bg-white h-fit ".concat(t),children:[(0,s.jsx)("h3",{className:"heading-3 text-main",children:"Ваш заказ"}),(0,s.jsxs)("div",{className:"flex justify-between gap-3 items-baseline",children:[(0,s.jsx)("span",{className:"text-body",children:"Товаров:"}),(0,s.jsx)("span",{className:"heading-4",children:u})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-3 items-baseline",children:[(0,s.jsx)("span",{className:"text-body",children:"Стоимость товаров:"}),(0,s.jsxs)("span",{className:"heading-4",children:[p," BYN"]})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-3 items-baseline",children:[(0,s.jsx)("span",{className:"text-body",children:"Стоимость доставки:"}),(0,s.jsx)("span",{className:"heading-4",children:0==m.price?"Бесплатно":"".concat(m.price," руб")})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-3 heading-3",children:[(0,s.jsx)("span",{children:"Итого:"}),(0,s.jsxs)("span",{children:[x," BYN"]})]}),a?(0,s.jsx)(r.$,{type:"button",asChild:!0,size:"xl",children:(0,s.jsx)("a",{href:"/order",children:"Перейти к оформлению"})}):(0,s.jsx)(r.$,{type:"submit",size:"xl",children:"Оформить заказ"})]})}},1694:(e,t,a)=>{"use strict";a.d(t,{default:()=>H});var s=a(5155),r=a(3582),n=a(2651);class i{async post(e){return await n.A.post("/api/order",JSON.stringify(e))}}let d=new i;var l=a(5732),c=a(5848),o=a(4505),m=a(6046),u=a(5564),p=a(4596),x=a(6813),f=a(9606),h=a(3430),g=a(7105),y=a(2115),j=a(1567);let b=y.forwardRef((e,t)=>{let{className:a,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,j.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});function v(e){let{register:t,className:a}=e;return(0,s.jsxs)("div",{className:a,children:[(0,s.jsx)("h3",{className:"heading-3 text-main",children:"Контактная информация"}),(0,s.jsxs)("div",{className:"mt-6 grid md:grid-cols-2 gap-x-10 gap-y-5 text-body",children:[(0,s.jsxs)("label",{children:[(0,s.jsx)("span",{children:"Имя"}),(0,s.jsx)(b,{className:"mt-2",required:!0,...t("name",{required:!0})})]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("span",{children:"Фамилия"}),(0,s.jsx)(b,{className:"mt-2",required:!0,...t("surname",{required:!0})})]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("span",{children:"Контактный телефон"}),(0,s.jsx)(b,{className:"mt-2",required:!0,...t("phone",{required:!0})})]})]})]})}b.displayName="Input";var N=a(2473),w=a(1719),_=a(1902),A=a(8867);let I=N.bL;N.YJ;let P=N.WT,T=y.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(N.l9,{ref:t,className:(0,j.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[r,(0,s.jsx)(N.In,{asChild:!0,children:(0,s.jsx)(w.A,{className:"h-4 w-4 opacity-50"})})]})});T.displayName=N.l9.displayName;let S=y.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(N.PP,{ref:t,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(_.A,{className:"h-4 w-4"})})});S.displayName=N.PP.displayName;let C=y.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(N.wn,{ref:t,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(w.A,{className:"h-4 w-4"})})});C.displayName=N.wn.displayName;let R=y.forwardRef((e,t)=>{let{className:a,children:r,position:n="popper",...i}=e;return(0,s.jsx)(N.ZL,{children:(0,s.jsxs)(N.UC,{ref:t,className:(0,j.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...i,children:[(0,s.jsx)(S,{}),(0,s.jsx)(N.LM,{className:(0,j.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(C,{})]})})});R.displayName=N.UC.displayName,y.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(N.JU,{ref:t,className:(0,j.cn)("px-2 py-1.5 text-sm font-semibold",a),...r})}).displayName=N.JU.displayName;let q=y.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(N.q7,{ref:t,className:(0,j.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(N.VF,{children:(0,s.jsx)(A.A,{className:"h-4 w-4"})})}),(0,s.jsx)(N.p4,{children:r})]})});q.displayName=N.q7.displayName,y.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(N.wv,{ref:t,className:(0,j.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=N.wv.displayName;var B=a(3312),D=a(3518),O=a(6967),z=a(3021);function L(e){let{className:t,classNames:a,showOutsideDays:r=!0,...n}=e;return(0,s.jsx)(z.hv,{showOutsideDays:r,className:(0,j.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,j.cn)((0,B.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:(0,j.cn)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md","range"===n.mode?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:(0,j.cn)((0,B.r)({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{className:t,...a}=e;return(0,s.jsx)(D.A,{className:(0,j.cn)("h-4 w-4",t),...a})},IconRight:e=>{let{className:t,...a}=e;return(0,s.jsx)(O.A,{className:(0,j.cn)("h-4 w-4",t),...a})}},...n})}L.displayName="Calendar";var E=a(532);let k=E.bL,M=E.l9;E.Mz;let U=y.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:n=4,...i}=e;return(0,s.jsx)(E.ZL,{children:(0,s.jsx)(E.UC,{ref:t,align:r,sideOffset:n,className:(0,j.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});U.displayName=E.UC.displayName;var J=a(93),V=a(32),F=a(2423);function $(e){let{control:t,className:a}=e,r=(0,J.W)(new Date,{days:1});return(0,s.jsx)(f.xI,{name:"deliveryDate",control:t,defaultValue:r,render:e=>{let{field:{value:t,onChange:r}}=e;return(0,s.jsxs)(k,{children:[(0,s.jsx)(M,{asChild:!0,children:(0,s.jsxs)(B.$,{variant:"outline",className:(0,j.cn)("justify-start text-left items-center font-normal",a),children:[(0,s.jsx)(F.A,{}),t?(0,V.GP)(t,"dd-MM-yyyy"):(0,s.jsx)("span",{children:"Выберите дату"})]})}),(0,s.jsx)(U,{className:"w-auto p-0",align:"start",children:(0,s.jsx)(L,{mode:"single",selected:t,onSelect:r,initialFocus:!0,disabled:e=>e<new Date||e>new Date("2100-01-01")})})]})}})}function Q(e){let{className:t,control:a,register:r}=e;return(0,s.jsxs)("div",{className:t,children:[(0,s.jsx)("h4",{className:"heading-3",children:"Доставка курьером"}),(0,s.jsx)("p",{className:"text-body mt-6",children:"Доставка осуществляется только в пределах города Минска. Курьер позвонит перед доставкой. При необходимости, он может оставить заказ у двери, либо передать вам лично в руки."}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-x-10 gap-y-5 mt-6",children:[(0,s.jsxs)("label",{className:"md:col-span-2",children:[(0,s.jsx)("span",{className:"text-body",children:"Адрес доставки"}),(0,s.jsx)(b,{className:"mt-2",required:!0,...r("deliveryAddress",{required:!0})})]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("span",{className:"text-body",children:"Дата доставки"}),(0,s.jsx)($,{className:"mt-2 w-full",control:a})]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("span",{className:"text-body",children:"Время доставки"}),(0,s.jsx)(f.xI,{control:a,name:"deliveryTime",render:e=>{let{field:{onChange:t}}=e;return(0,s.jsxs)(I,{onValueChange:t,required:!0,children:[(0,s.jsx)(T,{className:"mt-2",children:(0,s.jsx)(P,{placeholder:"Выберите время доставки"})}),(0,s.jsxs)(R,{children:[(0,s.jsx)(q,{value:"10:00-14:00",children:"10:00-14:00"}),(0,s.jsx)(q,{value:"14:00-18:00",children:"14:00-18:00"})]})]})}})]})]})]})}function K(e){let{className:t,control:a}=e;return(0,s.jsxs)("div",{className:t,children:[(0,s.jsx)("h4",{className:"heading-3",children:"Самовывоз"}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsxs)("label",{children:[(0,s.jsx)("span",{className:"text-body-sm",children:"Дата доставки"}),(0,s.jsx)("div",{className:"grid md:grid-cols-2 gap-x-10 mt-2",children:(0,s.jsx)($,{control:a})})]})}),(0,s.jsxs)("p",{className:"text-body mt-6",children:["Самовывоз осуществляется по адресу: Минский район, Боровлянский сельсовет, 74к2, павильон 146.",(0,s.jsx)("br",{}),"Время работы: 08:00-16:00, пн-пт."]}),(0,s.jsx)("div",{className:"overflow-hidden mt-5",children:(0,s.jsx)("iframe",{src:"https://yandex.by/map-widget/v1/?indoorLevel=1&ll=27.628917%2C53.963334&mode=whatshere&tab=inside&whatshere%5Bpoint%5D=27.629187%2C53.963516&whatshere%5Bzoom%5D=17&z=16.8",className:"relative w-full md:h-[600px] h-[500px] border-2"})})]})}var X=a(9712);function Y(e){let{control:t,className:a}=e,{deliveryType:r,setDeliveryType:n}=(0,p.A)();return(0,s.jsxs)("div",{className:a,children:[(0,s.jsx)("h3",{className:"heading-3 text-main",children:"Способ доставки"}),(0,s.jsx)(f.xI,{control:t,name:"deliveryType",defaultValue:r.name,render:e=>{let{field:{onChange:t,value:a}}=e;return(0,s.jsx)("div",{className:"mt-6 grid md:grid-cols-2 gap-x-10 gap-y-5",children:X.A.map(e=>(0,s.jsx)(B.$,{type:"button",size:"xl",variant:a==e.name?"default":"outline",onClick:()=>{t(e.name),n(e)},children:e.name},e.name))})}})]})}var Z=a(3011);function G(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("section",{children:(0,s.jsx)("div",{className:"container",children:(0,s.jsx)(Z.Qp,{className:" py-10",children:(0,s.jsxs)(Z.AB,{children:[(0,s.jsx)(Z.J5,{children:(0,s.jsx)(Z.w1,{className:"link",href:"/",children:"Главная"})}),(0,s.jsx)(Z.tH,{}),(0,s.jsx)(Z.J5,{children:(0,s.jsx)(Z.tJ,{children:"Оформление заказа"})})]})})})}),(0,s.jsx)("section",{className:"",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("h1",{className:"heading-2 border-b-2 border-solid",children:"Оформление заказа"})})})]})}function H(){let{deliveryType:e}=(0,p.A)(),{cartRecords:t}=(0,r.A)(),{cartList:a}=(0,l.A)(),n=x.A.getTotalQuantity(a),{register:i,handleSubmit:y,control:j}=(0,f.mN)(),{mutate:b}=function(){let{toast:e,dismiss:t,toasts:a}=(0,u.dj)(),r=(0,m.useRouter)(),n=(0,l.A)(e=>e.reset),{mutate:i,isPending:p,isError:x}=(0,c.n)({mutationKey:["order"],mutationFn:async e=>await d.post(e),onMutate:()=>{e({description:(0,s.jsxs)("div",{className:"flex gap-5 items-center",children:[(0,s.jsx)(o.A,{className:"animate-spin",size:24}),(0,s.jsx)("p",{className:"text-sm",children:"Отправка данных..."})]}),duration:5e3})},onSuccess:()=>{n(),t(a[0].id),r.push("/order-done")},onError:()=>{e({variant:"destructive",description:(0,s.jsx)("p",{className:"text-sm",children:"Произошла ошибка во время оформления заказа."}),duration:5e3})}});return{mutate:i,isPending:p,isError:x}}();return 0==n?(0,s.jsxs)("main",{children:[(0,s.jsx)(G,{}),(0,s.jsx)(h.A,{})]}):(0,s.jsxs)("main",{children:[(0,s.jsx)(G,{}),(0,s.jsx)("form",{onSubmit:y(a=>{b({orderInfo:a,cartList:t,deliveryType:e})}),children:(0,s.jsx)("section",{className:"pb-10",children:(0,s.jsxs)("div",{className:"container grid lg:grid-cols-12 gap-10 mt-12",children:[(0,s.jsxs)("div",{className:"lg:col-span-7",children:[(0,s.jsx)(v,{register:i}),(0,s.jsx)(Y,{className:"mt-12",control:j}),"Самовывоз"==e.name?(0,s.jsx)(K,{control:j,className:"mt-12"}):(0,s.jsx)(Q,{control:j,register:i,className:"mt-12"})]}),(0,s.jsx)(g.A,{isCartPage:!1,className:"lg:col-span-5"})]})})})]})}},3011:(e,t,a)=>{"use strict";a.d(t,{AB:()=>c,J5:()=>o,Qp:()=>l,tH:()=>p,tJ:()=>u,w1:()=>m});var s=a(5155),r=a(2115),n=a(2317),i=a(6967),d=(a(4858),a(1567));let l=r.forwardRef((e,t)=>{let{...a}=e;return(0,s.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...a})});l.displayName="Breadcrumb";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("ol",{ref:t,className:(0,d.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",a),...r})});c.displayName="BreadcrumbList";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("li",{ref:t,className:(0,d.cn)("inline-flex items-center gap-1.5",a),...r})});o.displayName="BreadcrumbItem";let m=r.forwardRef((e,t)=>{let{asChild:a,className:r,...i}=e,l=a?n.DX:"a";return(0,s.jsx)(l,{ref:t,className:(0,d.cn)("transition-colors hover:text-foreground",r),...i})});m.displayName="BreadcrumbLink";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:(0,d.cn)("font-normal text-foreground",a),...r})});u.displayName="BreadcrumbPage";let p=e=>{let{children:t,className:a,...r}=e;return(0,s.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,d.cn)("[&>svg]:w-3.5 [&>svg]:h-3.5",a),...r,children:null!=t?t:(0,s.jsx)(i.A,{})})};p.displayName="BreadcrumbSeparator"},3312:(e,t,a)=>{"use strict";a.d(t,{$:()=>c,r:()=>l});var s=a(5155),r=a(2317),n=a(1027),i=a(2115),d=a(1567);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",outlineBold:"border-2 border-primary bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9",xl:"md:py-4 md:px-8 py-3 px-6 rounded-md text-lg"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef((e,t)=>{let{className:a,variant:n,size:i,asChild:c=!1,...o}=e,m=c?r.DX:"button";return(0,s.jsx)(m,{className:(0,d.cn)(l({variant:n,size:i,className:a})),ref:t,...o})});c.displayName="Button"},9712:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=[{name:"Самовывоз",price:0},{name:"Доставка курьером",price:15}]},5564:(e,t,a)=>{"use strict";a.d(t,{dj:()=>u});var s=a(2115);let r=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},d=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function o(e){c=d(c,e),l.forEach(e=>{e(c)})}function m(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>o({type:"DISMISS_TOAST",toastId:a});return o({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,t]=s.useState(c);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},3582:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var s=a(5605),r=a(5732),n=a(547);function i(){let{cartList:e}=(0,r.A)(),{data:t,isLoading:a,isError:i,error:d}=(0,n.I)({queryKey:["cart-list",e.length],queryFn:async()=>await s.A.getAllByCart(e)});return{cartRecords:null==t?void 0:t.map(t=>{var a;return{cartPoster:t,quantity:(null===(a=e.find(e=>t._id==e.cartPoster._id&&t.dimension._id==e.cartPoster.dimensionId&&t.frame._id==e.cartPoster.frameId))||void 0===a?void 0:a.quantity)||1}}),isLoading:a,isError:i,error:d}}},1567:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(3463),r=a(9795);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},5605:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});let s=(0,a(7096).UU)({projectId:"b3q2ag62",dataset:"production",useCdn:!0,apiVersion:"2023-05-03"}),r=e=>""==e?"*[_type == 'poster']{\n    _id, name, slug, \"images\": images[].asset->url\n  }":"*[_type == 'poster' && '".concat(e,'\' in categories[]->slug]{\n  _id, name, slug, "images": images[].asset->url\n}'),n=e=>"*[_type == 'poster' && _id == '".concat(e._id,"'\n   && count(dimensions[_ref == '").concat(e.dimensionId,"']) > 0\n   && count(frames[_ref == '").concat(e.frameId,'\']) > 0][0]{\n  _id, name, slug, description,\n  "images": images[].asset->url,\n  "categories": categories[]->{_id, name, slug},\n  "dimension": dimensions[_ref == \'').concat(e.dimensionId,"'][0]->{_id, name, price},\n  \"frame\": frames[_ref == '").concat(e.frameId,"'][0]->{_id, name, price}\n}"),i=e=>"*[_type == 'poster' && (count((categories[]->slug)[@ in ".concat(JSON.stringify(e),']) > 0) ][0..3]{\n  _id, name, slug, "images": images[].asset->url\n}'),d=()=>"*[_type == 'popularPoster']{\n  ...reference->{\n  _id, name, slug, \"images\": images[].asset->url\n  }\n}",l=e=>"*[_type == 'poster' && slug == '".concat(e,'\'][0]{\n  _id, name, slug, description,\n  "images": images[].asset->url,\n  "categories": categories[]->{_id, name, slug},\n  "dimensions": dimensions[]->{_id, name, price},\n  "frames": frames[]->{_id, name, price}\n}');class c{async getAllByCategory(e){return await s.fetch(r(e))}async getPopularPosters(){return await s.fetch(d())}async getByCategories(e){return await s.fetch(i(e))}async getAllByCart(e){return await Promise.all(e.map(e=>s.fetch(n(e.cartPoster))))}async getBySlug(e){return await s.fetch(l(e))}}let o=new c},5732:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(9827),r=a(709);let n=(0,s.v)()((0,r.Zr)(e=>({cartList:[],add:t=>e(e=>({cartList:[...e.cartList,{cartPoster:t,quantity:1}]})),delete:t=>e(e=>({cartList:e.cartList.filter(e=>!(e.cartPoster._id==t._id&&e.cartPoster.dimensionId==t.dimensionId&&e.cartPoster.frameId==t.frameId))})),update:(t,a)=>e(e=>({cartList:e.cartList.map(e=>e.cartPoster._id==t._id&&e.cartPoster.dimensionId==t.dimensionId&&e.cartPoster.frameId==t.frameId?{cartPoster:t,quantity:a}:e)})),reset:()=>e(()=>({cartList:[]}))}),{name:"cart-storage",storage:(0,r.KU)(()=>localStorage)}))},4596:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(9712);let r=(0,a(9827).v)()(e=>({deliveryType:s.A[0],setDeliveryType:t=>e(e=>({...e,deliveryType:t}))}))},6813:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(8418);class r{isInCart(e,t){return!!t.find(t=>t.cartPoster._id==e._id&&t.cartPoster.dimensionId==e.dimensionId&&t.cartPoster.frameId==e.frameId)}getTotalQuantity(e){return e.map(e=>e.quantity).reduce((e,t)=>e+t,0)}getTotalPrice(e){return(null==e?void 0:e.map(e=>s.A.calculateCartPosterPrice(e.cartPoster,e.quantity)).reduce((e,t)=>e+t,0))||0}}let n=new r},8418:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});class s{calculatePosterPrice(e,t,a){var s,r;return(null===(s=e.dimensions[t])||void 0===s?void 0:s.price)+(null===(r=e.frames[a])||void 0===r?void 0:r.price)}calculateCartPosterPrice(e,t){return(e.dimension.price+e.frame.price)*t}}let r=new s}},e=>{var t=t=>e(e.s=t);e.O(0,[678,304,365,535,706,441,517,358],()=>t(1334)),_N_E=e.O()}]);